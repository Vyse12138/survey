(function(e){function t(t){for(var i,c,o=t[0],a=t[1],u=t[2],d=0,b=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&b.push(s[c][0]),s[c]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);l&&l(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var a=n[o];0!==s[a]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},s={index:0},r=[];function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=a;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),s=(n("a4d3"),n("e01a"),{class:"survey"}),r={key:0},c=Object(i["g"])("h1",null,"Thank you for completing the survey!",-1),o={key:1},a=Object(i["g"])("h1",null,"Please come back to it later!",-1),u={key:2},l=Object(i["g"])("div",{class:"frontImg"},null,-1),d={key:0,class:"loading"},b={key:1,class:"loading"},f={key:2},O={key:0,class:"heading"};function j(e,t,n,j,h,m){var p=Object(i["m"])("MultipleChoice"),v=Object(i["m"])("OpenEnded");return Object(i["i"])(),Object(i["d"])("div",s,[h.gratitude?(Object(i["i"])(),Object(i["d"])("div",r,[c])):Object(i["e"])("",!0),h.saved?(Object(i["i"])(),Object(i["d"])("div",o,[a,Object(i["g"])("button",{class:"submit continue",onClick:t[1]||(t[1]=Object(i["q"])((function(){return m.refresh&&m.refresh.apply(m,arguments)}),["prevent"]))}," CONTINUE ")])):Object(i["e"])("",!0),h.gratitude||h.saved?Object(i["e"])("",!0):(Object(i["i"])(),Object(i["d"])("div",u,[l,h.loading?(Object(i["i"])(),Object(i["d"])("h2",d,"Loading...")):Object(i["e"])("",!0),h.error?(Object(i["i"])(),Object(i["d"])("h2",b,"There was some error...")):Object(i["e"])("",!0),h.loading||h.error?Object(i["e"])("",!0):(Object(i["i"])(),Object(i["d"])("div",f,[h.loading||h.error?Object(i["e"])("",!0):(Object(i["i"])(),Object(i["d"])("div",O,[Object(i["g"])("h1",null,Object(i["n"])(h.data.surveyName),1),Object(i["g"])("h3",null,Object(i["n"])(h.data.description),1)])),(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(h.data.questions,(function(e){return Object(i["i"])(),Object(i["d"])("div",{key:e.id},[e.items.length>0?(Object(i["i"])(),Object(i["d"])(p,{key:0,onSaveAnswerWithSingleItem:m.saveAnswerWithSingleItem,onSaveAnswerWithMultipleItems:m.saveAnswerWithMultipleItems,body:e.body,isCompulsory:e.isCompulsory,items:e.items,id:e.id,unfinished:h.unfinished[e.id]},null,8,["onSaveAnswerWithSingleItem","onSaveAnswerWithMultipleItems","body","isCompulsory","items","id","unfinished"])):Object(i["e"])("",!0),0===e.items.length?(Object(i["i"])(),Object(i["d"])(v,{key:1,onSaveAnswer:m.saveAnswer,id:e.id,body:e.body,isCompulsory:e.isCompulsory,unfinished:h.unfinished[e.id],answer:e.answer},null,8,["onSaveAnswer","id","body","isCompulsory","unfinished","answer"])):Object(i["e"])("",!0)])})),128)),Object(i["g"])("button",{class:"submit save",onClick:t[2]||(t[2]=Object(i["q"])((function(){return m.saveSurvey&&m.saveSurvey.apply(m,arguments)}),["prevent"]))}," SAVE "),Object(i["g"])("button",{class:"submit",onClick:t[3]||(t[3]=Object(i["q"])((function(){return m.submitSurvey&&m.submitSurvey.apply(m,arguments)}),["prevent"]))}," SUBMIT ")]))]))])}n("7db0"),n("4160"),n("b0c0"),n("d3b7"),n("159b");var h=Object(i["r"])("data-v-417efefe");Object(i["k"])("data-v-417efefe");var m={class:"multipleChoice"},p={class:"questionBody"},v={key:0,class:"isCompulsory"},y=Object(i["g"])("h3",null,"Please finish this question!",-1),g={key:1,class:"questionItem"},w={key:2,class:"questionItems"},k=Object(i["g"])("th",null,null,-1);Object(i["j"])();var I=h((function(e,t,n,s,r,c){return Object(i["i"])(),Object(i["d"])("div",m,[Object(i["g"])("h3",p,[Object(i["f"])(Object(i["n"])(n.body)+" ",1),n.isCompulsory?(Object(i["i"])(),Object(i["d"])("span",v,"*")):Object(i["e"])("",!0)]),n.unfinished?(Object(i["i"])(),Object(i["d"])("div",{key:0,id:n.id,class:"required"},[y],8,["id"])):Object(i["e"])("",!0),1===n.items.length?(Object(i["i"])(),Object(i["d"])("table",g,[(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(c.getFirstItemOptions,(function(e){return Object(i["i"])(),Object(i["d"])("tr",{class:"",key:e},[Object(i["g"])("th",null,Object(i["n"])(e),1),Object(i["g"])("td",null,[Object(i["g"])("input",{type:"radio",checked:e===c.getFirstItemAnswer,value:e,name:n.id,onClick:t[1]||(t[1]=function(){return c.saveAnswerWithSingleItem&&c.saveAnswerWithSingleItem.apply(c,arguments)})},null,8,["checked","value","name"])])])})),128))])):(Object(i["i"])(),Object(i["d"])("table",w,[Object(i["g"])("tr",null,[k,(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(c.getFirstItemOptions,(function(e){return Object(i["i"])(),Object(i["d"])("th",{key:e},Object(i["n"])(e),1)})),128))]),(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(c.getItems,(function(e){return Object(i["i"])(),Object(i["d"])("tr",{class:"choice",key:e},[Object(i["g"])("th",null,Object(i["n"])(e.name),1),(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(e.options,(function(s){return Object(i["i"])(),Object(i["d"])("td",{key:s},[Object(i["g"])("input",{type:"radio",checked:s==e.answer,id:e.name,value:s,name:n.id+"-"+e.name,onClick:t[2]||(t[2]=function(){return c.saveAnswerWithMultipleItems&&c.saveAnswerWithMultipleItems.apply(c,arguments)})},null,8,["checked","id","value","name"])])})),128))])})),128))]))])})),A=(n("a9e3"),{name:"MultipleChoice",props:{body:String,isCompulsory:Number,items:Array,id:Number,unfinished:Boolean},computed:{getFirstItemOptions:function(){return this.items[0].options},getItems:function(){return this.items},getFirstItemAnswer:function(){return this.items[0].answer}},methods:{saveAnswerWithSingleItem:function(e){this.$emit("saveAnswerWithSingleItem",this.id,e.target.value)},saveAnswerWithMultipleItems:function(e){this.$emit("saveAnswerWithMultipleItems",this.id,e.target.id,e.target.value)},checkAnswer:function(e){return console.log(e.target),e.target.setAttribute("checked"),!1}}});n("6059");A.render=I,A.__scopeId="data-v-417efefe";var S=A,C=Object(i["r"])("data-v-86686a66");Object(i["k"])("data-v-86686a66");var q={class:"openEnded"},M={class:"questionBody"},W={key:0,class:"isCompulsory"},E=Object(i["g"])("h3",null,"Please finish this question!",-1);Object(i["j"])();var T=C((function(e,t,n,s,r,c){return Object(i["i"])(),Object(i["d"])("div",q,[Object(i["g"])("h3",M,[Object(i["f"])(Object(i["n"])(n.body)+" ",1),n.isCompulsory?(Object(i["i"])(),Object(i["d"])("span",W,"*")):Object(i["e"])("",!0)]),n.unfinished?(Object(i["i"])(),Object(i["d"])("div",{key:0,id:n.id,class:"required"},[E],8,["id"])):Object(i["e"])("",!0),Object(i["p"])(Object(i["g"])("textarea",{class:"input",rows:"10",onKeyup:t[1]||(t[1]=function(){return c.saveAnswer&&c.saveAnswer.apply(c,arguments)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.answerTemp=e})},null,544),[[i["o"],r.answerTemp]])])})),P={name:"OpenEnded",data:function(){return{answerTemp:""}},props:{body:String,isCompulsory:Number,id:Number,unfinished:Boolean,answer:String},methods:{saveAnswer:function(e){this.$emit("saveAnswer",this.id,e.target.value)}},mounted:function(){this.answerTemp=this.answer}};n("7f6e");P.render=T,P.__scopeId="data-v-86686a66";var _=P,x=n("bc3a"),N=n.n(x),B={name:"Home",components:{MultipleChoice:S,OpenEnded:_},data:function(){return{data:{uniqueID:"",surveyID:"",surveyName:"",description:"",email:null,isCompleted:0,questions:[{id:"",body:"",isCompulsory:0,items:[{name:"",answer:null,options:[]}]}]},loading:!0,error:!1,unfinished:[],gratitude:!1,saved:!1}},created:function(){var e=this;N.a.get("https://run.mocky.io/v3/16282fa7-5087-4ef5-938c-24db50727c51").then((function(t){e.data=t.data,e.data.isCompleted&&(e.gratitude=!0)})).catch((function(){e.error=!0})).finally((function(){e.loading=!1}))},methods:{saveAnswerWithSingleItem:function(e,t){this.data.questions.find((function(t){return t.id===e})).items[0].answer=t},saveAnswerWithMultipleItems:function(e,t,n){this.data.questions.find((function(t){return t.id===e})).items.find((function(e){return e.name===t})).answer=n},saveAnswer:function(e,t){this.data.questions.find((function(t){return t.id===e})).answer=t},refresh:function(){window.location.reload()},saveSurvey:function(){var e=this;N.a.post("/api/userSurvey",this.data).then((function(){e.saved=!0})).catch((function(){console.log(e.data),alert("submit failed"),e.saved=!0}))},submitSurvey:function(){var e=this;this.data.questions.forEach((function(t){if(1===t.isCompulsory)if(t.items)t.items.forEach((function(n){if(e.unfinished[t.id]=!1,null===n.answer)throw e.unfinished[t.id]=!0,setTimeout((function(){document.getElementById(t.id).scrollIntoView({behavior:"smooth",block:"center"})}),0),new Error("A compulsory question is not being answered.")}));else if(e.unfinished[t.id]=!1,null===t.answer)throw e.unfinished[t.id]=!0,setTimeout((function(){document.getElementById(t.id).scrollIntoView({behavior:"smooth",block:"center"})}),0),new Error("A compulsory question is not being answered.")})),this.data.isCompleted=1,N.a.post("/api/userSurvey",this.data).then((function(){e.gratitude=!0})).catch((function(){console.log(e.data),alert("submit failed"),e.gratitude=!0}))}}};n("b830");B.render=j;var F=B;Object(i["c"])(F).mount("#app")},5923:function(e,t,n){},6059:function(e,t,n){"use strict";n("c1a8")},"7f6e":function(e,t,n){"use strict";n("de53")},b830:function(e,t,n){"use strict";n("5923")},c1a8:function(e,t,n){},de53:function(e,t,n){}});
//# sourceMappingURL=index.32ef7bc9.js.map