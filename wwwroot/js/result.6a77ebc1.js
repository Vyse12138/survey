(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={result:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([1,"chunk-vendors"]),n()})({1:function(t,e,n){t.exports=n("a3c5")},"889b":function(t,e,n){"use strict";n("a8cc")},a3c5:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),r=(n("a4d3"),n("e01a"),{class:"result"}),a={key:0,class:"loading"},s=Object(i["g"])("h1",null,"Loading...",-1),o={key:1,class:"heading"},c={class:"voteCount"};function u(t,e,n,u,l,d){var f=Object(i["m"])("ResultPieChart"),p=Object(i["m"])("ResultBarChart");return Object(i["i"])(),Object(i["d"])("div",r,[l.loading?(Object(i["i"])(),Object(i["d"])("div",a,[s])):Object(i["e"])("",!0),l.loading?Object(i["e"])("",!0):(Object(i["i"])(),Object(i["d"])("div",o,[Object(i["g"])("div",c,[Object(i["g"])("p",null,"Total Response: "+Object(i["n"])(l.invalidCount+l.validCount),1),Object(i["g"])("p",null,"Invalid Response: "+Object(i["n"])(l.invalidCount),1),Object(i["g"])("p",null,"Actual Response: "+Object(i["n"])(l.validCount),1)]),Object(i["g"])("h1",null,Object(i["n"])(l.title),1),Object(i["g"])("h3",null,Object(i["n"])(l.description),1)])),(Object(i["i"])(!0),Object(i["d"])(i["a"],null,Object(i["l"])(l.results,(function(t){return Object(i["i"])(),Object(i["d"])("div",{key:t.id},[1===t.items.length?(Object(i["i"])(),Object(i["d"])(f,{key:0,question:t.question,items:t.items,id:t.id},null,8,["question","items","id"])):Object(i["e"])("",!0),1!==t.items.length?(Object(i["i"])(),Object(i["d"])(p,{key:1,question:t.question,items:t.items,id:t.id},null,8,["question","items","id"])):Object(i["e"])("",!0)])})),128))])}n("c740"),n("b0c0"),n("d3b7");var l=n("b85c"),d=Object(i["p"])("data-v-26c5f4e0");Object(i["k"])("data-v-26c5f4e0");var f={class:"resultPieChart"};Object(i["j"])();var p=d((function(t,e,n,r,a,s){var o=Object(i["m"])("VueEcharts");return Object(i["i"])(),Object(i["d"])("div",f,[Object(i["g"])(o,{option:a.option,style:{height:"300px"}},null,8,["option"])])})),v=(n("a9e3"),n("6f08")),b={name:"ResultPieChart",components:{VueEcharts:v["a"]},computed:{getResults:function(){return this.items[0].result}},props:{question:String,items:Array,id:Number},data:function(){return{option:{title:{textAlign:"left",text:"".concat(this.question),subtext:"",left:"left"},tooltip:{trigger:"item"},legend:{orient:"vertical",right:"20%",top:"middle"},series:[{type:"pie",radius:"70%",center:["30%","50%"],data:[],label:{show:!0,position:"inside",formatter:"{d}%"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},created:function(){var t=0;for(var e in this.getResults)t+=this.getResults[e];this.option.title.subtext="".concat(t," responses");var n=[];for(var i in this.getResults){var r={value:this.getResults[i],name:i};n.push(r)}this.option.series[0].data=n}};n("fc7a");b.render=p,b.__scopeId="data-v-26c5f4e0";var h=b,O=Object(i["p"])("data-v-2536d6be");Object(i["k"])("data-v-2536d6be");var j={class:"resultBarChart"};Object(i["j"])();var m=O((function(t,e,n,r,a,s){var o=Object(i["m"])("VueEcharts");return Object(i["i"])(),Object(i["d"])("div",j,[Object(i["g"])(o,{option:a.option,style:{height:"300px"}},null,8,["option"])])})),g={name:"ResultBarChart",components:{VueEcharts:v["a"]},computed:{getResults:function(){return this.items[0].result}},props:{question:String,items:Array,id:Number},data:function(){return{option:{title:{textAlign:"left",text:"".concat(this.question),subtext:"",left:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[]},xAxis:{type:"category",axisTick:{show:!1},data:[]},yAxis:{type:"value"},series:[]}}},created:function(){var t=0;for(var e in this.getResults)t+=this.getResults[e];this.option.title.subtext="".concat(t," responses");var n=[];for(var i in this.items[0].result)n.push(i);this.option.legend.data=n;var r,a=[],s=Object(l["a"])(this.items);try{for(s.s();!(r=s.n()).done;){var o=r.value;a.push(o.name)}}catch(h){s.e(h)}finally{s.f()}this.option.xAxis.data=a;var c=[],u=n.length;while(u--){var d,f={type:"bar",name:n[u]},p=[],v=Object(l["a"])(this.items);try{for(v.s();!(d=v.n()).done;){var b=d.value;p.push(b.result[n[u]])}}catch(h){v.e(h)}finally{v.f()}f.data=p,c.unshift(f)}this.option.series=c}};n("b31a");g.render=m,g.__scopeId="data-v-2536d6be";var y=g,x=n("bc3a"),w=n.n(x),C={name:"Result",components:{ResultPieChart:h,ResultBarChart:y},data:function(){return{resultSet:[],title:"",description:"",results:[],loading:!0,error:!1,validCount:0,invalidCount:0}},created:function(){var t=this;w.a.get("https://run.mocky.io/v3/4447104c-a9ec-4274-9d04-c09629c1c7b9").then((function(e){t.loading=!0,t.resultSet=e.data,t.title=t.resultSet[0].surveyName,t.description=t.resultSet[0].description,t.results=[];var n,i=Object(l["a"])(t.resultSet[0].questions);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(0!==r.items.length){var a={};a.id=r.id,a.question=r.body,a.items=[];var s,o=Object(l["a"])(r.items);try{for(o.s();!(s=o.n()).done;){var c=s.value,u={};u.name=c.name,u.result={};var d,f=Object(l["a"])(c.options);try{for(f.s();!(d=f.n()).done;){var p=d.value;u.result[p]=0}}catch(g){f.e(g)}finally{f.f()}a.items.push(u)}}catch(g){o.e(g)}finally{o.f()}t.results.push(a)}}}catch(g){i.e(g)}finally{i.f()}var v,b=Object(l["a"])(t.resultSet);try{for(b.s();!(v=b.n()).done;){var h=v.value;if(h.isCompleted){t.validCount++;var O,j=Object(l["a"])(h.questions);try{var m=function(){var e=O.value;if(0!==e.items.length){var n=1;if(!e.isCompulsory){var i,r=Object(l["a"])(e.items);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.answer||(n=0)}}catch(g){r.e(g)}finally{r.f()}}if(n){var s,o=Object(l["a"])(e.items);try{var c=function(){var n=s.value,i=t.results.findIndex((function(t){return t.id===e.id})),r=t.results[i].items.findIndex((function(t){return t.name===n.name}))||0;if(n.answer){var a=n.answer;t.results[i].items[r].result[a]+=1}};for(o.s();!(s=o.n()).done;)c()}catch(g){o.e(g)}finally{o.f()}}}};for(j.s();!(O=j.n()).done;)m()}catch(g){j.e(g)}finally{j.f()}}else t.invalidCount++}}catch(g){b.e(g)}finally{b.f()}})).catch((function(){t.error=!0})).finally((function(){t.loading=!1}))}};n("889b");C.render=u;var R=C;Object(i["c"])(R).mount("#app")},a4a1:function(t,e,n){},a8cc:function(t,e,n){},b31a:function(t,e,n){"use strict";n("a4a1")},e327:function(t,e,n){},fc7a:function(t,e,n){"use strict";n("e327")}});
//# sourceMappingURL=result.6a77ebc1.js.map